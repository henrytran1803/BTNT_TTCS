CREATE PROCEDURE KiemTraMaTPNT_SOHUU
    @MATPNT nchar(8)
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS (SELECT 1 FROM TPNT WHERE MATPNT = @MATPNT)
    BEGIN
        IF EXISTS (SELECT 1 FROM MUON WHERE MATPNT = @MATPNT)
        BEGIN
            RETURN 1;
        END
        ELSE
        BEGIN
            RETURN 0;
        END
    END
    ELSE
    BEGIN
        RETURN 1;
    END
END
